/* sc gratisan nero md
youtube : @nansoffc
minimal kalo mau jual buat sendiri mas */

const _0x40984e = _0x5767;
(function (_0x5366c8, _0xdde04f) {
    const _0x5b5566 = _0x5767,
        _0xb52b75 = _0x5366c8();
    while (!![]) {
        try {
            const _0x5a2db7 = -parseInt(_0x5b5566(0x12f)) / 0x1 * (parseInt(_0x5b5566(0x147)) / 0x2) + parseInt(_0x5b5566(0x14a)) / 0x3 * (parseInt(_0x5b5566(0x15c)) / 0x4) + parseInt(_0x5b5566(0xf7)) / 0x5 * (parseInt(_0x5b5566(0xeb)) / 0x6) + parseInt(_0x5b5566(0x12a)) / 0x7 * (parseInt(_0x5b5566(0x109)) / 0x8) + -parseInt(_0x5b5566(0xe7)) / 0x9 * (parseInt(_0x5b5566(0xe3)) / 0xa) + -parseInt(_0x5b5566(0x124)) / 0xb + parseInt(_0x5b5566(0x148)) / 0xc;
            if (_0x5a2db7 === _0xdde04f) break;
            else _0xb52b75['push'](_0xb52b75['shift']());
        } catch (_0x20bf81) {
            _0xb52b75['push'](_0xb52b75['shift']());
        }
    }
}(_0x2646, 0x63bf2), process[_0x40984e(0x117)][_0x40984e(0x13a)] = '0');
import './config.js';
import {
    createRequire
} from 'module';
import _0x1286b7, {
    join
} from 'path';
import {
    fileURLToPath,
    pathToFileURL
} from 'url';
import {
    platform
} from 'process';
import * as _0x41be97 from 'ws';
import {
    readdirSync,
    statSync,
    unlinkSync,
    existsSync,
    readFileSync,
    watch,
    rmSync
} from 'fs';
import _0x11a3af from 'yargs';
import {
    spawn
} from 'child_process';
import _0x4818c2 from 'lodash';

function _0x2646() {
    const _0x3afc39 = ['participantsUpdate', '8292592zvgPCN', 'loggedOut', 'handler', 'replace', '@user tidak lagi admin', 'entries', '7wdIbOx', 'chain', 'ᴛʜᴇ ɢʀᴏᴜᴘ ʟɪɴᴋ ʜᴀꜱ ʙᴇᴇɴ ᴄʜᴀɴɢᴇᴅ ᴛᴏ \x0a@revoke', 'groupsUpdate', 'Halo, *@user*\x0aᴡᴇʟᴄᴏᴍᴇ ᴛᴏ ᴛʜᴇ ɢʀᴏᴜᴘ *@group*', '17NwHZsh', 'connection.update', 'buttonsMessage', 'logger', 'autocleartmp', '✅  ᴄʟᴇᴀʀ ᴛᴍᴘ ᴛᴏ ꜱᴘᴇᴇᴅ ᴜᴘ ᴛʜᴇ ʙᴏᴛ', 'message.delete', 'APIs', 'uncaughtException', 'toString', './handler.js?update=', 'NODE_TLS_REJECT_UNAUTHORIZED', 'SERVER_PORT', 'filter', 'dirname', 'connect', '🌟 Plugin yang diperbarui - \'', 'ffmpeg', 'DATABASE', '3.1.0', 'isFile', 'READ', 'templateMessage', 'sDesc', '46522UYKEol', '7286004rPbCSG', 'ffprobe', '1643631TolVtN', 'module', 'off', 'reload', 'loadDatabase', 'fromEntries', 'error', 'connectionUpdate', 'credsUpdate', 'Stickers may not work without imagemagick if libwebp on ffmpeg doesnt isntalled (pkg install imagemagick)', 'plugins', 'API', 'now', 'color', 'APIKeys', '__dirname', 'slice', 'group-participants.update', '4KsZdWU', 'reloadHandler', '-frames:v', 'webp', 'default', 'parse', 'isInit', '-filter_complex', '110WUpMxn', '✅ Tes cepat dilakukan!', 'welcome', '‎z/i!#$%+£¢€¥^°=¶∆×÷π√✓©®:;?&.,\\-', '375498QWPLtE', 'removeAllListeners', 'Selamat tinggal @user', 'messages.upsert', '6GIvhFv', 'then', 'ffmpegWebp', 'silent', '?update=', 'all', 'creds.update', 'PORT', 'support', 'Stickers may not animated without libwebp on ffmpeg (--enable-ibwebp while compiling ffmpeg)', 'deleteUpdate', 'bind', '385015BqNTSE', 'log', 'conn', 'info', 'magick', 'timestamp', 'sRevoke', 'forEach', 'data', 'cyan', 'keys', 'opts', 'sort', 'output', 'onDelete', 'prefix', '__filename', '✨ Plugin baru - \'', '6278128PBoXbt', 'bye', 'freeze', 'find', 'payload', 'nansoffc', 'close', 'authFolder', 'test', 'exitProcess', 'groups.update', 'spromote', '-loglevel', 'Deskripsi telah diubah menjadi \x0a@desc', 'env', 'url', 'statusCode', '\\$&', 'warn', 'mtimeMs', '@user sekarang admin', 'catch', './tmp', 'race', './handler.js', 'convert'];
    _0x2646 = function () {
        return _0x3afc39;
    };
    return _0x2646();
}
import _0xd1f576 from 'chalk';
import _0x379f9b from 'syntax-error';
import {
    tmpdir
} from 'os';
import {
    format
} from 'util';
import {
    makeWASocket,
    protoType,
    serialize
} from './lib/simple.js';
import {
    Low,
    JSONFile
} from 'lowdb';
import _0x22b75d from 'pino';
import {
    mongoDB,
    mongoDBV2
} from './lib/mongoDB.js';
import _0xb47b95 from './lib/store.js';
import {
    useMultiFileAuthState,
    DisconnectReason,
    fetchLatestBaileysVersion
} from '@whiskeysockets/baileys';
const {
    CONNECTING
} = _0x41be97, {
    chain
} = _0x4818c2, PORT = process['env'][_0x40984e(0xf2)] || process['env'][_0x40984e(0x13b)] || 0xbb8;
protoType(), serialize(), global[_0x40984e(0x107)] = function filename(_0x1f2898 =
    import.meta['url'], _0x28f989 = platform !== 'win32') {
    const _0x125975 = _0x40984e;
    return _0x28f989 ? /file:\/\/\// [_0x125975(0x111)](_0x1f2898) ? fileURLToPath(_0x1f2898) : _0x1f2898 : pathToFileURL(_0x1f2898)[_0x125975(0x138)]();
}, global['__dirname'] = function dirname(_0x38a1d8) {
    const _0x12ebde = _0x40984e;
    return _0x1286b7[_0x12ebde(0x13d)](global[_0x12ebde(0x107)](_0x38a1d8, !![]));
}, global['__require'] = function require(_0x35a0fb =
    import.meta[_0x40984e(0x118)]) {
    return createRequire(_0x35a0fb);
}, global[_0x40984e(0x155)] = (_0x3669f2, _0x56ef13 = '/', _0x397058 = {}, _0x3b524c) => (_0x3669f2 in global['APIs'] ? global[_0x40984e(0x136)][_0x3669f2] : _0x3669f2) + _0x56ef13 + (_0x397058 || _0x3b524c ? '?' + new URLSearchParams(Object[_0x40984e(0x129)]({
    ..._0x397058,
    ..._0x3b524c ? {
        [_0x3b524c]: global[_0x40984e(0x158)][_0x3669f2 in global['APIs'] ? global['APIs'][_0x3669f2] : _0x3669f2]
    } : {}
})) : ''), global['timestamp'] = {
    'start': new Date()
};
const __dirname = global[_0x40984e(0x159)](
    import.meta[_0x40984e(0x118)]);
global[_0x40984e(0x102)] = new Object(_0x11a3af(process['argv'][_0x40984e(0x15a)](0x2))[_0x40984e(0x112)](![])[_0x40984e(0x161)]()), global[_0x40984e(0x106)] = new RegExp('^[' + (opts['prefix'] || _0x40984e(0xe6))[_0x40984e(0x127)](/[|\\{}()[\]^$+*?.\-\^]/g, _0x40984e(0x11a)) + ']'), global['db'] = new Low(/https?:\/\// [_0x40984e(0x111)](opts['db'] || '') ? new cloudDBAdapter(opts['db']) : /mongodb(\+srv)?:\/\//i [_0x40984e(0x111)](opts['db']) ? opts['mongodbv2'] ? new mongoDBV2(opts['db']) : new mongoDB(opts['db']) : new JSONFile((opts['_'][0x0] ? opts['_'][0x0] + '_' : '') + 'database.json')), global[_0x40984e(0x141)] = global['db'], global[_0x40984e(0x14e)] = async function loadDatabase() {
    const _0x51855b = _0x40984e;
    if (global['db'][_0x51855b(0x144)]) return new Promise(_0x301d08 => setInterval(async function () {
        const _0x25ebdf = _0x51855b;
        !global['db']['READ'] && (clearInterval(this), _0x301d08(global['db']['data'] == null ? global[_0x25ebdf(0x14e)]() : global['db'][_0x25ebdf(0xff)]));
    }, 0x1 * 0x3e8));
    if (global['db'][_0x51855b(0xff)] !== null) return;
    global['db'][_0x51855b(0x144)] = !![], await global['db']['read']()[_0x51855b(0x11e)](console[_0x51855b(0x150)]), global['db'][_0x51855b(0x144)] = null, global['db'][_0x51855b(0xff)] = {
        'users': {},
        'chats': {},
        'stats': {},
        'msgs': {},
        'sticker': {},
        'settings': {},
        ...global['db'][_0x51855b(0xff)] || {}
    }, global['db'][_0x51855b(0x12b)] = chain(global['db'][_0x51855b(0xff)]);
}, loadDatabase(), global[_0x40984e(0x110)] = 'sessions';
const {
    state,
    saveCreds
} = await useMultiFileAuthState(global[_0x40984e(0x110)]);
let {
    version,
    isLatest
} = await fetchLatestBaileysVersion();
const connectionOptions = {
    'version': version,
    'printQRInTerminal': !![],
    'auth': state,
    'browser': [_0x40984e(0x10e), 'Safari', _0x40984e(0x142)],
    'patchMessageBeforeSending': _0x5e5c55 => {
        const _0x305f5a = _0x40984e,
            _0x3730b1 = !!(_0x5e5c55[_0x305f5a(0x131)] || _0x5e5c55[_0x305f5a(0x145)] || _0x5e5c55['listMessage']);
        return _0x3730b1 && (_0x5e5c55 = {
            'viewOnceMessage': {
                'message': {
                    'messageContextInfo': {
                        'deviceListMetadataVersion': 0x2,
                        'deviceListMetadata': {}
                    },
                    ..._0x5e5c55
                }
            }
        }), _0x5e5c55;
    },
    'logger': _0x22b75d({
        'level': _0x40984e(0xee)
    })
};
global[_0x40984e(0xf9)] = makeWASocket(connectionOptions), conn[_0x40984e(0x162)] = ![];
!opts['test'] && setInterval(async () => {
    const _0x2a9402 = _0x40984e;
    if (global['db'][_0x2a9402(0xff)]) await global['db']['write']()[_0x2a9402(0x11e)](console[_0x2a9402(0x150)]);
    if (opts[_0x2a9402(0x133)]) try {
        clearTmp();
    } catch (_0x20901c) {
        console['error'](_0x20901c);
    }
}, 0x3c * 0x3e8);
if (opts['server'])(await import('./server.js'))['default'](global[_0x40984e(0xf9)], PORT);
async function clearTmp() {
    const _0x87aa59 = _0x40984e,
        _0x133c09 = [tmpdir(), join(__dirname, _0x87aa59(0x11f))],
        _0xfe1c33 = [];
    return _0x133c09['forEach'](_0x5df48d => readdirSync(_0x5df48d)[_0x87aa59(0xfe)](_0x2bf48e => _0xfe1c33['push'](join(_0x5df48d, _0x2bf48e)))), _0xfe1c33['map'](_0x9558b5 => {
        const _0x301bef = _0x87aa59,
            _0x140146 = statSync(_0x9558b5);
        if (_0x140146[_0x301bef(0x143)]() && Date[_0x301bef(0x156)]() - _0x140146[_0x301bef(0x11c)] >= 0x3e8 * 0x3c * 0x3) return unlinkSync(_0x9558b5);
        return ![];
    });
}
setInterval(async () => {
    const _0x3443e6 = _0x40984e;
    var _0x15a8c7 = await clearTmp();
    console[_0x3443e6(0xf8)](_0xd1f576[_0x3443e6(0x100)](_0x3443e6(0x134)));
}, 0x2bf20);
async function connectionUpdate(_0x164ab1) {
    const _0x577ca5 = _0x40984e,
        {
            connection: _0x2e593e,
            lastDisconnect: _0x1d953a,
            isNewLogin: _0x2621d7
        } = _0x164ab1;
    if (_0x2621d7) conn[_0x577ca5(0x162)] = !![];
    const _0x581dc9 = _0x1d953a?. [_0x577ca5(0x150)]?. [_0x577ca5(0x104)]?. [_0x577ca5(0x119)] || _0x1d953a?. [_0x577ca5(0x150)]?. [_0x577ca5(0x104)]?. [_0x577ca5(0x10d)]?. [_0x577ca5(0x119)];
    _0x581dc9 && _0x581dc9 !== DisconnectReason[_0x577ca5(0x125)] && conn?. ['ws']['socket'] == null && (console[_0x577ca5(0xf8)](await global[_0x577ca5(0x15d)](!![])[_0x577ca5(0x11e)](console[_0x577ca5(0x150)])), global[_0x577ca5(0xfc)][_0x577ca5(0x13e)] = new Date());
    if (global['db'][_0x577ca5(0xff)] == null) loadDatabase();
}

function _0x5767(_0x1a2251, _0x127b7d) {
    const _0x2646cc = _0x2646();
    return _0x5767 = function (_0x57671f, _0x577e4f) {
        _0x57671f = _0x57671f - 0xe3;
        let _0x2c1c66 = _0x2646cc[_0x57671f];
        return _0x2c1c66;
    }, _0x5767(_0x1a2251, _0x127b7d);
}
process['on'](_0x40984e(0x137), console[_0x40984e(0x150)]);
let isInit = !![],
    handler = await import(_0x40984e(0x121));
global[_0x40984e(0x15d)] = async function (_0x153479) {
    const _0x39fd1b = _0x40984e;
    try {
        const _0xa6b978 = await import(_0x39fd1b(0x139) + Date['now']())[_0x39fd1b(0x11e)](console[_0x39fd1b(0x150)]);
        if (Object[_0x39fd1b(0x101)](_0xa6b978 || {})['length']) handler = _0xa6b978;
    } catch (_0x5834e9) {
        console[_0x39fd1b(0x150)](_0x5834e9);
    }
    if (_0x153479) {
        const _0x2dc190 = global[_0x39fd1b(0xf9)]['chats'];
        try {
            global['conn']['ws'][_0x39fd1b(0x10f)]();
        } catch {}
        conn['ev'][_0x39fd1b(0xe8)](), global[_0x39fd1b(0xf9)] = makeWASocket(connectionOptions, {
            'chats': _0x2dc190
        }), isInit = !![];
    }
    return !isInit && (conn['ev'][_0x39fd1b(0x14c)](_0x39fd1b(0xea), conn['handler']), conn['ev'][_0x39fd1b(0x14c)](_0x39fd1b(0x15b), conn[_0x39fd1b(0x123)]), conn['ev'][_0x39fd1b(0x14c)]('groups.update', conn[_0x39fd1b(0x12d)]), conn['ev'][_0x39fd1b(0x14c)](_0x39fd1b(0x135), conn[_0x39fd1b(0x105)]), conn['ev'][_0x39fd1b(0x14c)](_0x39fd1b(0x130), conn[_0x39fd1b(0x151)]), conn['ev'][_0x39fd1b(0x14c)]('creds.update', conn['credsUpdate'])), conn[_0x39fd1b(0xe5)] = _0x39fd1b(0x12e), conn[_0x39fd1b(0x10a)] = _0x39fd1b(0xe9), conn[_0x39fd1b(0x114)] = _0x39fd1b(0x11d), conn['sdemote'] = _0x39fd1b(0x128), conn[_0x39fd1b(0x146)] = _0x39fd1b(0x116), conn['sSubject'] = ' ᴛʜᴇ ɢʀᴏᴜᴘ ɴᴀᴍᴇ ʜᴀꜱ ʙᴇᴇɴ ᴄʜᴀɴɢᴇᴅ ᴛᴏ \x0a*@subject*', conn['sIcon'] = 'ᴛʜᴇ ɢʀᴏᴜᴘ ɪᴄᴏɴ ʜᴀꜱ ʙᴇᴇɴ ᴄʜᴀɴɢᴇᴅ', conn[_0x39fd1b(0xfd)] = _0x39fd1b(0x12c), conn['handler'] = handler[_0x39fd1b(0x126)]['bind'](global[_0x39fd1b(0xf9)]), conn['participantsUpdate'] = handler['participantsUpdate'][_0x39fd1b(0xf6)](global[_0x39fd1b(0xf9)]), conn[_0x39fd1b(0x12d)] = handler[_0x39fd1b(0x12d)]['bind'](global[_0x39fd1b(0xf9)]), conn[_0x39fd1b(0x105)] = handler[_0x39fd1b(0xf5)][_0x39fd1b(0xf6)](global[_0x39fd1b(0xf9)]), conn[_0x39fd1b(0x151)] = connectionUpdate['bind'](global[_0x39fd1b(0xf9)]), conn[_0x39fd1b(0x152)] = saveCreds['bind'](global[_0x39fd1b(0xf9)], !![]), conn['ev']['on'](_0x39fd1b(0xea), conn[_0x39fd1b(0x126)]), conn['ev']['on']('group-participants.update', conn[_0x39fd1b(0x123)]), conn['ev']['on'](_0x39fd1b(0x113), conn[_0x39fd1b(0x12d)]), conn['ev']['on'](_0x39fd1b(0x135), conn[_0x39fd1b(0x105)]), conn['ev']['on'](_0x39fd1b(0x130), conn[_0x39fd1b(0x151)]), conn['ev']['on'](_0x39fd1b(0xf1), conn[_0x39fd1b(0x152)]), isInit = ![], !![];
};
const pluginFolder = global[_0x40984e(0x159)](join(__dirname, './plugins/index')),
    pluginFilter = _0x96924b => /\.js$/ ['test'](_0x96924b);
global[_0x40984e(0x154)] = {};
async function filesInit() {
    const _0x304ec7 = _0x40984e;
    for (let _0x1a1719 of readdirSync(pluginFolder)[_0x304ec7(0x13c)](pluginFilter)) {
        try {
            let _0x29dbc8 = global[_0x304ec7(0x107)](join(pluginFolder, _0x1a1719));
            const _0x5c8bb6 = await import(_0x29dbc8);
            global[_0x304ec7(0x154)][_0x1a1719] = _0x5c8bb6[_0x304ec7(0x160)] || _0x5c8bb6;
        } catch (_0x133eda) {
            conn['logger'][_0x304ec7(0x150)](_0x133eda), delete global[_0x304ec7(0x154)][_0x1a1719];
        }
    }
}
filesInit()[_0x40984e(0xec)](_0x50b4c1 => console[_0x40984e(0xf8)](Object[_0x40984e(0x101)](global[_0x40984e(0x154)])))[_0x40984e(0x11e)](console[_0x40984e(0x150)]), global[_0x40984e(0x14d)] = async (_0x138f14, _0xd717c6) => {
    const _0x27558b = _0x40984e;
    if (pluginFilter(_0xd717c6)) {
        let _0x15040f = global[_0x27558b(0x107)](join(pluginFolder, _0xd717c6), !![]);
        if (_0xd717c6 in global[_0x27558b(0x154)]) {
            if (existsSync(_0x15040f)) conn[_0x27558b(0x132)][_0x27558b(0xfa)](_0x27558b(0x13f) + _0xd717c6 + '\'');
            else return conn[_0x27558b(0x132)][_0x27558b(0x11b)]('🗑️ Plugin yang dihapus - \'' + _0xd717c6 + '\''), delete global[_0x27558b(0x154)][_0xd717c6];
        } else conn[_0x27558b(0x132)]['info'](_0x27558b(0x108) + _0xd717c6 + '\'');
        let _0x208c49 = _0x379f9b(readFileSync(_0x15040f), _0xd717c6, {
            'sourceType': _0x27558b(0x14b),
            'allowAwaitOutsideFunction': !![]
        });
        if (_0x208c49) conn[_0x27558b(0x132)][_0x27558b(0x150)]('syntax error while loading \'' + _0xd717c6 + '\'\x0a' + format(_0x208c49));
        else try {
            const _0x17a9c3 = await import(global[_0x27558b(0x107)](_0x15040f) + _0x27558b(0xef) + Date['now']());
            global[_0x27558b(0x154)][_0xd717c6] = _0x17a9c3[_0x27558b(0x160)] || _0x17a9c3;
        } catch (_0x1be843) {
            conn[_0x27558b(0x132)][_0x27558b(0x150)]('error require plugin \'' + _0xd717c6 + '\x0a' + format(_0x1be843) + '\'');
        } finally {
            global['plugins'] = Object[_0x27558b(0x14f)](Object[_0x27558b(0x129)](global[_0x27558b(0x154)])[_0x27558b(0x103)](([_0x19dd07], [_0x3139ce]) => _0x19dd07['localeCompare'](_0x3139ce)));
        }
    }
}, Object[_0x40984e(0x10b)](global[_0x40984e(0x14d)]), watch(pluginFolder, global[_0x40984e(0x14d)]), await global[_0x40984e(0x15d)]();
async function _quickTest() {
    const _0x51d9d6 = _0x40984e;
    let _0x306523 = await Promise[_0x51d9d6(0xf0)]([spawn(_0x51d9d6(0x140)), spawn(_0x51d9d6(0x149)), spawn('ffmpeg', ['-hide_banner', _0x51d9d6(0x115), 'error', _0x51d9d6(0x163), _0x51d9d6(0x157), _0x51d9d6(0x15e), '1', '-f', _0x51d9d6(0x15f), '-']), spawn(_0x51d9d6(0x122)), spawn(_0x51d9d6(0xfb)), spawn('gm'), spawn(_0x51d9d6(0x10c), ['--version'])]['map'](_0x3ba5c1 => {
            const _0x44b6cd = _0x51d9d6;
            return Promise[_0x44b6cd(0x120)]([new Promise(_0x224b79 => {
                const _0x45f2aa = _0x44b6cd;
                _0x3ba5c1['on'](_0x45f2aa(0x10f), _0x5d9d38 => {
                    _0x224b79(_0x5d9d38 !== 0x7f);
                });
            }), new Promise(_0x5bdd55 => {
                const _0x3cea47 = _0x44b6cd;
                _0x3ba5c1['on'](_0x3cea47(0x150), _0x523ab7 => _0x5bdd55(![]));
            })]);
        })),
        [_0x2ea99c, _0x51d903, _0x428b61, _0x607602, _0x30c667, _0x3e82b9, _0x182d58] = _0x306523;
    console[_0x51d9d6(0xf8)](_0x306523);
    let _0x57f1ec = global[_0x51d9d6(0xf3)] = {
        'ffmpeg': _0x2ea99c,
        'ffprobe': _0x51d903,
        'ffmpegWebp': _0x428b61,
        'convert': _0x607602,
        'magick': _0x30c667,
        'gm': _0x3e82b9,
        'find': _0x182d58
    };
    Object['freeze'](global['support']);
    if (!_0x57f1ec[_0x51d9d6(0x140)]) conn[_0x51d9d6(0x132)][_0x51d9d6(0x11b)]('Please install ffmpeg for sending videos (pkg install ffmpeg)');
    if (_0x57f1ec['ffmpeg'] && !_0x57f1ec[_0x51d9d6(0xed)]) conn['logger'][_0x51d9d6(0x11b)](_0x51d9d6(0xf4));
    if (!_0x57f1ec[_0x51d9d6(0x122)] && !_0x57f1ec[_0x51d9d6(0xfb)] && !_0x57f1ec['gm']) conn[_0x51d9d6(0x132)][_0x51d9d6(0x11b)](_0x51d9d6(0x153));
}
_quickTest()[_0x40984e(0xec)](() => conn[_0x40984e(0x132)][_0x40984e(0xfa)](_0x40984e(0xe4)))['catch'](console['error']);